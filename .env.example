# ============= .env.example - 环境变量配置示例 (支持邮件通知) =============
# 复制此文件为 .env 并填入实际值

# ========== 基础配置 ==========

# 管理员密码（用于清理缓存等敏感操作）
ADMIN_PASSWORD=your_secure_password_here

# 服务器端口（可选，默认 3000）
PORT=3000

# 访问地址（用于邮件中的链接，生产环境必须设置）
BASE_URL=https://your-domain.com

# 环境（可选）
NODE_ENV=production

# 数据库文件路径（可选，默认 schedule_server.db）
DB_PATH=schedule_server.db

# 缓存目录（可选，默认 cache）
CACHE_DIR=cache

# 日志级别（可选）
LOG_LEVEL=info

# 更新时间点（小时，逗号分隔，默认 5,13,21）
UPDATE_HOURS=5,13,21


# ========== SMTP 邮件配置 ==========
# 用于发送 Cookie 过期通知

# SMTP 服务器地址
# 常见服务商:
#   - Gmail: smtp.gmail.com (端口 465 或 587)
#   - QQ邮箱: smtp.qq.com (端口 465)
#   - 163邮箱: smtp.163.com (端口 465)
#   - Outlook: smtp.office365.com (端口 587)
SMTP_HOST=smtp.example.com

# SMTP 端口
# 465: SSL加密
# 587: TLS加密
SMTP_PORT=465

# 是否使用 SSL (465端口时为true，587端口时为false)
SMTP_SECURE=true

# SMTP 用户名（通常是完整的邮箱地址）
SMTP_USER=your-email@example.com

# SMTP 密码或授权码
# 注意: 多数邮件服务商需要使用"应用专用密码"或"授权码"，而不是登录密码
# - Gmail: https://myaccount.google.com/apppasswords
# - QQ邮箱: 设置 -> 账户 -> 开启SMTP服务 -> 生成授权码
# - 163邮箱: 设置 -> POP3/SMTP/IMAP -> 开启服务 -> 获取授权码
SMTP_PASS=your_smtp_password_or_app_code


# ========== Cookie 保活配置 ==========

# 是否启用 Cookie 保活（默认启用）
KEEPALIVE_ENABLED=true

# 保活检查间隔（小时，默认 24）
KEEPALIVE_INTERVAL=24


# ========== 配置说明 ==========

# 1. 基础配置
#    - ADMIN_PASSWORD: 管理员密码，用于清理缓存等操作
#    - BASE_URL: 服务器的访问地址，邮件中的链接会使用这个地址
#    - PORT: 服务器监听端口

# 2. SMTP 配置步骤
#    a. 选择邮件服务商（推荐 QQ邮箱 或 163邮箱）
#    b. 开启 SMTP 服务并获取授权码
#    c. 填写以上 SMTP_* 配置项

# 3. Cookie 保活
#    - 系统会定期检查所有用户的 Cookie 是否有效
#    - 如果 Cookie 失效，会发送邮件通知用户
#    - 用户需要在注册时提供邮箱地址

# 4. 常见问题
#    Q: 为什么邮件发送失败？
#    A: 请检查 SMTP 配置是否正确，特别是授权码（不是登录密码）
#    
#    Q: 如何获取 QQ 邮箱授权码？
#    A: 登录QQ邮箱 -> 设置 -> 账户 -> POP3/SMTP/IMAP -> 开启服务 -> 生成授权码
#    
#    Q: Cookie 保活是如何工作的？
#    A: 系统每24小时向教务系统发送一次请求以保持 Cookie 有效

# 5. 安全建议
#    - 不要将 .env 文件提交到版本控制系统
#    - 使用强密码作为管理员密码
#    - 定期更换 SMTP 授权码